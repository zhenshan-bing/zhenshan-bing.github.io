  {%- if site.enable_math -%}
  <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true
    },
    "HTML-CSS": { availableFonts: ["TeX"] }, // 确保使用的字体支持样式
    TeX: {
      extensions: ["AMSmath.js", "AMSsymbols.js"], // 启用 AMS 扩展
      Macros: {
        textbf: ["{\\bf #1}", 1] // 添加对 \textbf 的支持
      }
    }
  });
  </script>
  
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@{{ site.mathjax.version }}/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  {%- endif %}
